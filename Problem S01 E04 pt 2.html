<html>
	<head>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
		<script src="three.min.js"></script>
		<script>
			// Пример на куб.
			// Не се стряскайте от многото непознати неща в този код.
			//
			// Задача: Пуснете примера. Разгледайте кода. Опитайте се
			// да идентифицирате елементите - кой какво прави.

			var renderer = new THREE.WebGLRenderer();
			renderer.setSize( window.innerWidth, window.innerHeight );
			renderer.setAnimationLoop( drawFrame );
			document.body.appendChild( renderer.domElement );

			var scene = new THREE.Scene();
			
			var aspect = window.innerWidth/window.innerHeight;
			var camera = new THREE.PerspectiveCamera( 30, aspect );
			camera.position.set( 5, 5, 15 );
			camera.lookAt( new THREE.Vector3() );

			var geometry = new THREE.BoxGeometry( 0.2, 0.2, 0.2 );
			var material = new THREE.MeshPhongMaterial({color:"white"});

			for (let i = -1; i < 2; i+=2) {
				for (let j = 0; j < 3; j+=2) {
					for (let s = 0; s < 3; s+=2) {
						var cube = new THREE.Mesh( geometry, material );
						scene.add( cube );
						cube.position.set(i, j, s);
					}
				}
			}

			var geom2 = new THREE.BoxGeometry(2, 0.1, .1)
			var mat2 = new THREE.MeshPhongMaterial({color:"yellow"});

			for(let y=0; y<3;y+=2)
			for(let z=0;z<3;z+=2) {
				var beam = new THREE.Mesh(geom2, mat2);
				scene.add(beam);
				beam.position.set(0, y, z);
			}

			geom2 = new THREE.BoxGeometry(.1, 2, .1);
			mat2 = new THREE.MeshPhongMaterial({color:"green"});
			for(let x=-1; x<2; x+=2)
			for(let z=0; z<3; z+=2) 
			{
				var beam = new THREE.Mesh(geom2, mat2);
				scene.add(beam);
				beam.position.set(x, 1, z);
			}

			geom2 = new THREE.BoxGeometry(.1, .1, 2);
			mat2 = new THREE.MeshPhongMaterial({color:"red"});
			for(let x=-1; x<2; x+=2)
			for(let y=0; y<3; y+=2) 
			{
				var beam = new THREE.Mesh(geom2, mat2);
				scene.add(beam);
				beam.position.set(x, y, 1);
			}

			let N = 100;
			for (let i = 0; i < N; i++) {
				let x = Math.random()/5;
				let y = Math.random()/5;
				let z = Math.random()/5;
				let xPos = Math.random()*2 - 1;
				let yPos = Math.random()*2;
				let zPos = Math.random()*2;
				geometry = new THREE.BoxGeometry(x, y, z);
				material = new THREE.MeshPhongMaterial({color:"cyan"});
				cube = new THREE.Mesh(geometry, material);
				scene.add(cube);
				cube.position.set(xPos, yPos, zPos);
			}

			geometry = new THREE.BoxGeometry(2, 1.4, 2);
			cube = new THREE.Mesh(geometry, material);
			scene.add(cube);
			cube.position.x = 3;

			geometry = new THREE.BoxGeometry(2, 2, 1.4);
			cube = new THREE.Mesh(geometry, material);
			scene.add(cube);
			cube.position.x = 3;

			geometry = new THREE.BoxGeometry(1.4, 2, 2);
			cube = new THREE.Mesh(geometry, material);
			scene.add(cube);
			cube.position.x = 3;

			geometry = new THREE.BoxGeometry(.15, .15, .15);
			material = new THREE.MeshPhongMaterial({color:"red"});
			for (let x = 2; x < 5; x+=2)
			for (let y = -1; y < 2; y+=2)
			for (let z = -1; z < 2; z+=2) {
				var cube = new THREE.Mesh( geometry, material );
				scene.add( cube );
				cube.position.set(x , y, z);
			}

			/* analogichno:
			for (let i = -1; i < 2; i+=2)
			for (let j = 0; j < 3; j+=2)
			for (let s = 0; s < 3; s+=2) {
				var cube = new THREE.Mesh( geometry, material );
				scene.add( cube );
				cube.position.set(i, j, s);
			}
			*/

			/* pak analogichno:
			var cube = new THREE.Mesh( geometry, material );
			scene.add( cube );
			cube.position.set(-1, 0, 2);

			cube = new THREE.Mesh(geometry, material);
			scene.add( cube );
			cube.position.set(-1, 0, 0);

			cube = new THREE.Mesh(geometry, material);
			scene.add( cube );
			cube.position.set(1, 0, 0);

			cube = new THREE.Mesh(geometry, material);
			scene.add( cube );
			cube.position.set(1, 2, 0);

			cube = new THREE.Mesh(geometry, material);
			scene.add( cube );
			cube.position.set(-1, 2, 0);

			cube = new THREE.Mesh(geometry, material);
			scene.add( cube );
			cube.position.set(-1, 2, 2);

			cube = new THREE.Mesh(geometry, material);
			scene.add( cube );
			cube.position.set(1, 2, 2);

			cube = new THREE.Mesh(geometry, material);
			scene.add( cube );
			cube.position.set(1, 0, 2);
			*/
			

			var light = new THREE.PointLight();
			light.position.set( 2, 2, 3 );
			scene.add( light );

			light = new THREE.PointLight();
			light.position.set( -2, 2, -3 );
			scene.add( light );



			function drawFrame()
			{
				scene.rotation.y += 0.005;
				renderer.render( scene, camera );
			}

			

		</script>
	</body>
</html>